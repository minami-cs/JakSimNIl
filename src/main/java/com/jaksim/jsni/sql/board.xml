<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
							"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.board">
	<insert id="insertArticle"
		parameterType="com.jaksim.jsni.bean.Board">
		<![CDATA[insert into boardj(board_no,category,writer,title,content,j_days)
		values((SELECT NVL(MAX(board_no)+1,1) FROM boardj),#{category},#{writer},#{title},#{content},#{j_days})]]>
	</insert>
	<select id="selectArticle"
		resultType="com.jaksim.jsni.bean.Board" parameterType="int">
		<![CDATA[select * from boardj where board_no = #{board_no} ]]>
	</select>
	<select id="selectAllArticles"
		resultType="com.jaksim.jsni.bean.Board" parameterType="String">
		<![CDATA[select * from boardj order by board_no desc]]>
	</select>
	<select id="selectListPage"
		resultType="com.jaksim.jsni.bean.Board">
		<![CDATA[select * from (
					select a.*, rownum rnum
					from (
						select * from boardj
						where board_np > 0
						order by w_date desc) a
					where ((#{page} * #{pageNum) + 1) > rownum
				where rnum >= (((#{page} - 1) * #{pageNum}) + 1)
				order by board_no desc, w_date desc]]>
	</select>
</mapper>

